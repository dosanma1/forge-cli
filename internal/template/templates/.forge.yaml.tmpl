# Generated by forge-cli. This file is now yours to customize.
# 
# This is the main configuration file for your forge workspace.
# No Bazel knowledge required - just specify your services and deployment targets.

project:
  name: {{.ProjectName}}
  description: A forge-powered microservices workspace
  version: 0.1.0

build:
  go_version: "{{.GoVersion}}"
  node_version: "{{.NodeVersion}}"
  registry: {{if .DockerRegistry}}{{.DockerRegistry}}{{else}}gcr.io/{{.GCPProjectID}}{{end}}
  
  # Build cache configuration
  cache:
    # Remote cache URL (optional) - speeds up builds across team
    # Examples:
    #   - https://storage.googleapis.com/my-company-bazel-cache
    #   - grpc://localhost:9092
    remote_url: ""
    
  # Parallel build configuration
  parallel:
    # Number of parallel workers (0 = auto-detect)
    workers: 0

services:
  # Add your backend services here
  # Example:
  # - name: api-server
  #   type: go
  #   port: 8080
  #   deployments:
  #     - kubernetes
  #     - cloudrun
  #   environments:
  #     local:
  #       replicas: 1
  #       resources:
  #         memory: 128Mi
  #         cpu: 100m
  #     dev:
  #       replicas: 2
  #       resources:
  #         memory: 256Mi
  #         cpu: 200m
  #     prod:
  #       replicas: 3
  #       resources:
  #         memory: 512Mi
  #         cpu: 500m

frontend:
  # Add your frontend applications here
  # Example:
  # - name: web-app
  #   type: angular
  #   port: 4200

infrastructure:
  kubernetes:
    cluster: kind-{{.ProjectName}}
    namespace: {{if .K8sNamespace}}{{.K8sNamespace}}{{else}}default{{end}}
  
  cloudrun:
    region: us-central1
    project: {{if .GCPProjectID}}{{.GCPProjectID}}{{else}}your-gcp-project{{end}}

# Deployment environments - customize these for your needs
environments:
  local:
    name: local
    description: Local development (kind/minikube)
    cluster: kind-{{.ProjectName}}
    namespace: default
    profile: ""  # No profile for local
  
  dev:
    name: dev
    description: Development environment
    cluster: your-dev-cluster
    namespace: dev
    profile: dev
    registry: {{if .DockerRegistry}}{{.DockerRegistry}}{{else}}gcr.io/{{.GCPProjectID}}{{end}}
  
  staging:
    name: staging
    description: Staging environment
    cluster: your-staging-cluster
    namespace: staging
    profile: staging
    registry: {{if .DockerRegistry}}{{.DockerRegistry}}{{else}}gcr.io/{{.GCPProjectID}}{{end}}
  
  prod:
    name: prod
    description: Production environment
    cluster: your-prod-cluster
    namespace: production
    profile: prod
    registry: {{if .DockerRegistry}}{{.DockerRegistry}}{{else}}gcr.io/{{.GCPProjectID}}{{end}}
    region: us-central1

# Add your custom configuration below
